#!/bin/sh

#---------------------------------#
# SYNC DIRS WITH THE MEGA ACCOUNT #
#---------------------------------#

! [ -x "$(command -v rclone)" ] && echo "rclone is not installed"     && exit 1
  [ $# -eq 0 ]                  && echo "Usage: sync-mega [up|down]"  && exit 1

LOCAL_DOX="${HOME}/dox"
LOCAL_MUSIC="${HOME}/music"
LOCAL_PIX="${HOME}/pix"
LOCAL_VIDS="${HOME}/vids"

REMOTE_DOX="MEGA:/dox"
REMOTE_MUSIC="MEGA:/music"
REMOTE_PIX="MEGA:/pix"
REMOTE_VIDS="MEGA:/vids"

if [ "$1" = "up" ]; then
  rclone sync   "$LOCAL_DOX"      "$REMOTE_DOX"
  rclone sync   "$LOCAL_MUSIC"    "$REMOTE_MUSIC"
  rclone sync   "$LOCAL_PIX"      "$REMOTE_PIX"
  rclone sync   "$LOCAL_VIDS"     "$REMOTE_VIDS"
  notify-send " MEGA Sync" "Remote synced with local"
  echo "Done"
elif [ "$1" = "down" ]; then
  rclone sync   "$REMOTE_DOX"     "$LOCAL_DOX"
  rclone sync   "$REMOTE_MUSIC"   "$LOCAL_MUSIC"
  rclone sync   "$REMOTE_PIX"     "$LOCAL_PIX"
  rclone sync   "$REMOTE_VIDS"    "$LOCAL_VIDS"
  notify-send " MEGA Sync" "Local synced with remote"
  echo "Done"
fi
